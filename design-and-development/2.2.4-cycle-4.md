# 2.2.4.b Cycle 4b: Continuing with Cycle 4

### Design

Cycle 4 is being split into 2 cycles since there is two parts to each path, and it would be too big to havea  For this cycle, I want to continue development and make the puzzle in this part more complex and have more of an element of randomness for replay ability for the player so that it can be more enjoyable and also harder for them.

### Objectives

* [x] Add even more to the map
* [x] Try to incorporate more complex puzzles into my game
* [x] Try to incorporate elements of AI into my game

### Usability Features

The game needs to still be engaging, which for this part can be done through harder puzzles, and including randomness into the puzzle means that gameplay wont always be the same.

### Key Variables

| Variable Name | Use                                                                                                                                                                     |
| ------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| lever1        | The lever that is present when you first go into the map                                                                                                                |
| partx (1,2,3) | This is used multiple times for different sprites to track their position, which is important to solving some of the puzzles                                            |
| randNum       | Since randomness is so important, having a random integer is very important for the values of partx                                                                     |
| lever2        | A second lever is added upon interacting with lever1 that is out of reach of the player although they can see it. It can only be accessed upon the correct part1 value. |
| button        | A button that is added upon interacting with lever1 for a second time                                                                                                   |
| teleporter    | A teleporter that is added when the values of part1 and part2 equal a random value                                                                                      |
| leverBox      | A final lever that is added to gain access to the box                                                                                                                   |
| box           | A box that gives access to the next scene                                                                                                                               |

### Pseudocode

```
When the character collides with lever1
    Set lever1Colliding to has been added

When the "e" key is pressed
    If lever1Colliding has been added
        Increment count by 1
        If part1 is 0
            Destroy lever1
            Add a leverPressed sprite
            Set part1 to 1
            Set lever1Colliding to not been added
        Else if part1 is 1
            Destroy lever1
            Add a lever sprite
            Set part1 to 0
            Set lever1Colliding to not been added

Set lever2Added to not been added
Set lever3Added to not been added

When the character collides with lever1
    When the "e" key is pressed
        If lever2Added is not been added
            Set lever2Added to has been added
            Add a plank1 rectangle
            Add a plank2 rectangle
            Add a lever4 sprite
        Else if lever3Added is not been added
            Set lever3Added to has been added
            Add a button sprite

Set rand to a random integer
Set part3 to 0
Set lever4Done to not been added

When the character collides with button
    If count is greater than 3
        If part1 is equal to rand
            Destroy plank1
            Destroy plank2

Set part4 to 0

When the character collides with lever4
    If part4 is not been added
        When the "e" key is pressed
            Set lever4Done to has been added
            Destroy lever4
            Add a leverPressed sprite
            Set part4 to 1
    Else if part4 has been added
        When the "e" key is pressed
            Destroy lever4
            Add a lever sprite
            Set part4 to 0

Set part1Answer to a random integer
Set part4Answer to a random integer
Set boxAdded to not been added

When the character collides with button
    If boxAdded is not been added
        If lever4Done has been added
            If part1 is equal to part1Answer and part4 is equal to part4Answer
                Set boxAdded to has been added
                Add a Teleporter1 sprite
                Add a Teleporter2 sprite

Add a leverBox sprite

When the character collides with Teleporter1
    When the "e" key is pressed
        If teleporterUsed is not been added
            Set teleporterUsed to has been added
            Destroy leverBox
            Add a leverBox sprite

When the character collides with leverBox
    When the "e" key is pressed
        If leverOtherAdded is not been added
            Set leverOtherAdded to has been added
            Destroy leverBox

```

## Development

### Outcome



```
                     
```

### Challenges



### Tests

<table><thead><tr><th width="158">Test</th><th>Instructions</th><th>What I expect</th><th>What actually happens</th><th>Pass/Fail</th></tr></thead><tbody><tr><td>1</td><td>Make sure that the platforms and the basic character elements work, as well as going from the previous scene to this one.</td><td>All platforms are added as expected and the transition to the scene works.</td><td>As expected</td><td>Pass</td></tr><tr><td>2</td><td>Add the first button and make it so the second button can be added.</td><td>On contact with the first button the second one is added.</td><td>As expected</td><td>Pass</td></tr><tr><td>3</td><td>The box should be added on contact with the second button.</td><td>A box to be added when  the player collides with the second button.</td><td>As expected </td><td>Pass</td></tr><tr><td>4</td><td>The player should be able to open the final part of this level, when they meet the conditions.</td><td>When the button collides with the first button and the player collides with the second button, the ending is opened.</td><td>Not as expected, as it wouldn't originally open the path and there were issues with the player potentially being unable to complete the task. </td><td>Fail</td></tr></tbody></table>

### Evidence
